pi@raspberrypi:~ $ cd /home/pi/Desktop/RemoteDemoStation/BasicServer
source venv/bin/activate
python TotalStation.py RPI1
2025-04-15 21:05:00,866 - DEBUG - Using selector: EpollSelector
2025-04-15 21:05:00,867 - INFO - Starting RPi Client version 2.0 for RPI1
2025-04-15 21:05:00,867 - INFO - Connecting to server: wss://xeryonremotedemostation.replit.app/rpi/RPI1
2025-04-15 21:05:00,867 - INFO - Ultra-responsive mode enabled with 10.00Î¼s minimum delay
2025-04-15 21:05:00,867 - INFO - Initializing camera...
2025-04-15 21:05:00,867 - INFO - Initializing camera
[0:46:32.632224420] [2597]  INFO Camera camera_manager.cpp:327 libcamera v0.4.0+53-29156679
[0:46:32.639570217] [2600]  INFO RPI pisp.cpp:720 libpisp version v1.1.0 e7974a156008 27-01-2025 (21:50:51)
[0:46:32.650683033] [2600]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@120000/rp1/i2c@80000/ov5647@36 to CFE device /dev/media0 and ISP device /dev/media1 using PiSP variant BCM2712_C0
2025-04-15 21:05:00,887 - INFO - Initialization successful.
[0:46:32.651729959] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:00,887 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:00,888 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:00,915 - WARNING - First camera init failed, retrying...
2025-04-15 21:05:02,917 - INFO - Initializing camera
2025-04-15 21:05:02,919 - INFO - Initialization successful.
[0:46:34.683600415] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:02,919 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:02,919 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:02,942 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffed86e9cd0>
2025-04-15 21:05:02,942 - INFO - Initializing Xeryon controller...
2025-04-15 21:05:02,942 - INFO - Initializing Xeryon controller on /dev/ttyACM0
2025-04-15 21:05:03,073 - DEBUG - Serial port /dev/ttyACM0 flushed successfully
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:04,075 - INFO - Set acceleration to 32750
2025-04-15 21:05:04,076 - INFO - Set deceleration to 32750
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:07,808 - INFO - Xeryon controller initialized successfully
2025-04-15 21:05:07,808 - INFO - Connecting to wss://xeryonremotedemostation.replit.app/rpi/RPI1 (attempt 1)...
2025-04-15 21:05:07,822 - INFO - Starting buffer flush task
2025-04-15 21:05:07,907 - DEBUG - Serial port /dev/ttyACM0 flushed successfully
2025-04-15 21:05:07,935 - INFO - Starting command processor task
2025-04-15 21:05:08,024 - DEBUG - = connection is CONNECTING
2025-04-15 21:05:08,124 - DEBUG - > GET /rpi/RPI1 HTTP/1.1
2025-04-15 21:05:08,124 - DEBUG - > Host: xeryonremotedemostation.replit.app
2025-04-15 21:05:08,124 - DEBUG - > Upgrade: websocket
2025-04-15 21:05:08,124 - DEBUG - > Connection: Upgrade
2025-04-15 21:05:08,124 - DEBUG - > Sec-WebSocket-Key: qMVBh+VIRP0kGWPrkGsOew==
2025-04-15 21:05:08,124 - DEBUG - > Sec-WebSocket-Version: 13
2025-04-15 21:05:08,124 - DEBUG - > User-Agent: Python/3.11 websockets/15.0.1
2025-04-15 21:05:08,344 - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-04-15 21:05:08,345 - DEBUG - < Date: Tue, 15 Apr 2025 19:05:08 GMT
2025-04-15 21:05:08,345 - DEBUG - < Sec-Websocket-Accept: 9PGJxvw4zHqh+gWtKwXzQ1Atdx8=
2025-04-15 21:05:08,345 - DEBUG - < Server: Google Frontend
2025-04-15 21:05:08,345 - DEBUG - < Strict-Transport-Security: max-age=63072000; includeSubDomains
2025-04-15 21:05:08,345 - DEBUG - < Traceparent: 00-2f56d07452ac06051496c8b8e9c951c4-2538f4db50790620-01
2025-04-15 21:05:08,345 - DEBUG - < X-Cloud-Trace-Context: 2f56d07452ac06051496c8b8e9c951c4/2682162800884254240;o=1
2025-04-15 21:05:08,345 - DEBUG - < Via: 1.1 google
2025-04-15 21:05:08,346 - DEBUG - < Upgrade: websocket
2025-04-15 21:05:08,346 - DEBUG - < Connection: Upgrade
2025-04-15 21:05:08,346 - DEBUG - < Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
2025-04-15 21:05:08,346 - DEBUG - = connection is OPEN
2025-04-15 21:05:08,347 - INFO - WebSocket connection established successfully
2025-04-15 21:05:08,347 - INFO - WebSocket connection established
2025-04-15 21:05:08,348 - DEBUG - > TEXT '{"type": "register", "rpiId": "RPI1", "connecti...04-15T21:05:08.347889"}' [236 bytes]
2025-04-15 21:05:08,348 - INFO - Sent registration message for RPI1
2025-04-15 21:05:08,348 - INFO - Starting camera frame sender task
2025-04-15 21:05:08,348 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:08,349 - INFO - Initializing camera
2025-04-15 21:05:08,349 - INFO - Initialization successful.
[0:46:40.113939901] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:08,350 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:08,350 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:08,378 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffed87172d0>
2025-04-15 21:05:08,379 - INFO - Starting position update sender task
2025-04-15 21:05:08,379 - INFO - Starting health monitor task with 5.0s heartbeat interval
2025-04-15 21:05:08,379 - DEBUG - Health: command=7.5s, frame=7.5s, ping=7.5s
2025-04-15 21:05:08,379 - ERROR - WebSocket reported as closed - triggering reconnection
2025-04-15 21:05:08,430 - DEBUG - > TEXT '{"type": "position_update", "rpiId": "RPI1", "e...04-15T21:05:08.429911"}' [107 bytes]
2025-04-15 21:05:08,430 - DEBUG - Position update: -0.004063 mm
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:08,884 - DEBUG - > TEXT '{"type": "position_update", "rpiId": "RPI1", "e...04-15T21:05:08.883809"}' [107 bytes]
2025-04-15 21:05:08,886 - DEBUG - Position update: -0.000313 mm
2025-04-15 21:05:09,087 - DEBUG - > TEXT '{"type": "position_update", "rpiId": "RPI1", "e...04-15T21:05:09.087005"}' [107 bytes]
2025-04-15 21:05:09,087 - DEBUG - Position update: -0.004063 mm
2025-04-15 21:05:09,379 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:09,380 - INFO - Initializing camera
2025-04-15 21:05:09,381 - INFO - Initialization successful.
[0:46:41.145741134] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:09,382 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:09,382 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:09,410 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb619ad90>
2025-04-15 21:05:10,411 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:10,411 - INFO - Initializing camera
2025-04-15 21:05:10,411 - INFO - Initialization successful.
[0:46:42.175835139] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:10,411 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:10,412 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:10,438 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb61923d0>
2025-04-15 21:05:11,439 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:11,439 - INFO - Initializing camera
2025-04-15 21:05:11,440 - INFO - Initialization successful.
[0:46:43.204468159] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:11,440 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:11,440 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:11,471 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5d84f90>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:12,472 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:12,472 - INFO - Initializing camera
2025-04-15 21:05:12,473 - INFO - Initialization successful.
[0:46:44.237503285] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:12,473 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:12,473 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:12,501 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffed650f190>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:13,062 - DEBUG - Serial port /dev/ttyACM0 flushed successfully
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:13,502 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:13,502 - INFO - Initializing camera
2025-04-15 21:05:13,502 - INFO - Initialization successful.
[0:46:45.266694054] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:13,502 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:13,502 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:13,528 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb6a922d0>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:14,529 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:14,530 - INFO - Initializing camera
2025-04-15 21:05:14,530 - INFO - Initialization successful.
[0:46:46.294671707] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:14,530 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:14,530 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:14,557 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5e3a6d0>
2025-04-15 21:05:15,559 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:15,559 - INFO - Initializing camera
2025-04-15 21:05:15,560 - INFO - Initialization successful.
[0:46:47.324803281] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:15,560 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:15,561 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:15,589 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5e397d0>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:16,590 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:16,591 - INFO - Initializing camera
2025-04-15 21:05:16,591 - INFO - Initialization successful.
[0:46:48.356083998] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:16,592 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:16,592 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:16,620 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb619f510>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:17,622 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:17,622 - INFO - Initializing camera
2025-04-15 21:05:17,622 - INFO - Initialization successful.
[0:46:49.386973322] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:17,623 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:17,623 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:17,646 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5e3a390>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:18,218 - DEBUG - Serial port /dev/ttyACM0 flushed successfully
2025-04-15 21:05:18,647 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:18,647 - INFO - Initializing camera
2025-04-15 21:05:18,648 - INFO - Initialization successful.
[0:46:50.412776826] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:18,648 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:18,649 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:18,672 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5d6ccd0>
2025-04-15 21:05:19,673 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:19,674 - INFO - Initializing camera
2025-04-15 21:05:19,674 - INFO - Initialization successful.
[0:46:51.438699103] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:19,674 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:19,674 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:19,700 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5e3bf90>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:20,702 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:20,702 - INFO - Initializing camera
2025-04-15 21:05:20,703 - INFO - Initialization successful.
[0:46:52.467297523] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:20,703 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:20,703 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:20,734 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffed86f5550>
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
device reports readiness to read but returned no data (device disconnected or multiple access on port?)
2025-04-15 21:05:21,735 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:21,735 - INFO - Initializing camera
2025-04-15 21:05:21,735 - INFO - Initialization successful.
[0:46:53.500063810] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:21,736 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:21,736 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:21,764 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5d84d90>
2025-04-15 21:05:22,764 - WARNING - Camera not available - attempting to initialize
2025-04-15 21:05:22,765 - INFO - Initializing camera
2025-04-15 21:05:22,765 - INFO - Initialization successful.
[0:46:54.529483369] [2597]  INFO Camera camera.cpp:1008 Pipeline handler in use by another process
2025-04-15 21:05:22,765 - ERROR - Camera __init__ sequence did not complete.
2025-04-15 21:05:22,765 - ERROR - Camera initialization failed: Camera __init__ sequence did not complete.
2025-04-15 21:05:22,793 - DEBUG - Resources now free: <picamera2.picamera2.Picamera2 object at 0x7ffeb5e38290>
2025-04-15 21:05:23,372 - DEBUG - Serial port /dev/ttyACM0 flushed successfully
^C2025-04-15 21:05:23,405 - INFO - Shutting down...
2025-04-15 21:05:23,531 - INFO - Controller stopped
2025-04-15 21:05:23,582 - INFO - Shutdown complete
2025-04-15 21:05:23,583 - ERROR - Position reading error: 'NoneType' object has no attribute 'getEPOS'
Communication has stopped. 

